<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
html, body{
    box-sizing: border-box;
    margin: 0px;
    padding: 0px;
}

.areaCanvas{
    margin-top: 30px;
    margin-left: auto !important;
    margin-right: auto !important;
    /* width: calc((100vw - (100vw - 100%))*0.9); */
    height: 500px;
    width: 500px;
    background-color: lavender;
    border: 1px solid black;    
}

</style>

<script>

//documentacao interna
window.addEventListener('load', init, false);

var canvas;
var canvasContext;
var canvasWidth;
var canvasHeight;
var defaultCanvasWidth = 500;
var defaultCanvasHeight = 500;
var idleImage;


//fillsquare - desenha um quadrado simples usando fillsquare 
function drawSquare(obj){
    canvasContext.fillRect(obj.x, obj.y, obj.width, obj.height)
}

function initImageResources(){
    idleImage = document.getElementById("idleImageId");
    console.log(idleImage)
}


function drawImage(obj){
    console.log(obj.src);
    canvasContext.drawImage(obj, 0, 0, 573, 523, 0 , 0, canvasWidth, canvasHeight);
}
//********************* End Animacao *********************


//********************* Init *********************

function init(){
    initCss();
    initCanvas();
    //animate();
    //initImageResources();
}

function initCss(){
    document.getElementById('canvas').style.width = defaultCanvasWidth;
    document.getElementById('canvas').style.height = defaultCanvasHeight;
    document.getElementById('areaCanvas').style.width = defaultCanvasWidth + "px";
    document.getElementById('areaCanvas').style.height = defaultCanvasHeight + "px";
}

function initCanvas(){
    canvas = document.getElementById('canvas');
    canvasContext = canvas.getContext('2d');
    canvasWidth = canvas.width = defaultCanvasWidth;
    canvasHeight = canvas.height = defaultCanvasHeight;
}
//******************************************************



//********************* Animacao Central *********************
function animate(){
    
    canvasContext.clearRect(0, 0, canvasWidth, canvasHeight);
    
    drawImage(idleImage);
   
    requestAnimationFrame(animate);
}

//******************* End Animacao Central *******************






</script>

<body>

    <!-- jeito pratico de carregar sprites, esconde e depois exibe em outro canto  -->
    <img id="idleImageId" src="assets/idleImage.png" style="display:none;" onload="initImageResources()">

    <!-- apenas area canvas -->
    <div class="areaCanvas" id="areaCanvas">
       <canvas id="canvas">
       </canvas>
    </div>

</body>
</html>